<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Books - Brainstorm Paradise</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="/images/brainstorm_logo.png" alt="Brainstorm Paradise Logo" class="logo-img">
            <h1 class="logo-title">Brainstorm Paradise</h1>
        </div>
    </header>

    <main class="container">
        <h2>Books</h2>
        <div class="book-container">
            <% books.forEach(book => { %>
                <div class="book-card">
                    <img src="/images/<%= book.image %>" alt="<%= book.title %>" class="book-cover">
                    <h3><%= book.title %></h3>
                    <p>by <%= book.author %></p>
                    <p>$<%= book.price %></p>
                    <a href="/admin/update/<%= book.id %>" class="btn">update</a>
                    <a href="/admin/delete/<%= book.id %>" class="btn">delete</a>
                </div>
            <% }) %>
        </div>
    </main>
    <a href="/admin/add-book" class="btn btn-home">Add new book</a>
    <a href="/admin/logout" class="btn btn-home">Log Out</a>
    <footer>
        <p>&copy; 2023 Brainstorm Paradise</p>
    </footer>

    <script src="/javascripts/main.js"></script>
    <script>
        // Get all delete links
        const deleteLinks = document.querySelectorAll('a[href^="/admin/delete/"]');

        // Add event listener to each delete link
        deleteLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                // Open confirmation dialog box
                if (!confirm('Are you sure you want to delete this book?')) {
                    // If user cancels, prevent default behavior
                    e.preventDefault();
                }
            });
        });
    </script>
</body>
</html>